<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 Super Learning Adventure! 🌟</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(45deg, #FFB6C1, #E6E6FA, #B19CD9, #FFB6C1, #87CEEB);
            background-size: 400% 400%;
            animation: gradientShift 12s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 0% 100%; }
            75% { background-position: 100% 0%; }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Enhanced floating decorations */
        .decoration {
            position: absolute;
            pointer-events: none;
            animation: float 8s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            25% { transform: translateY(-15px) rotate(90deg) scale(1.1); }
            50% { transform: translateY(-30px) rotate(180deg) scale(1.2); }
            75% { transform: translateY(-15px) rotate(270deg) scale(1.1); }
        }

        .star { font-size: 2.5em; color: #FFD700; top: 8%; left: 8%; animation-delay: 0s; }
        .heart { font-size: 2em; color: #FF69B4; top: 15%; right: 10%; animation-delay: 1s; }
        .flower { font-size: 2.3em; color: #FF1493; bottom: 15%; left: 15%; animation-delay: 2s; }
        .butterfly { font-size: 1.8em; color: #DA70D6; top: 25%; right: 25%; animation-delay: 3s; }
        .rainbow { font-size: 2em; color: #FF6B6B; bottom: 25%; right: 20%; animation-delay: 4s; }
        .sun { font-size: 2.2em; color: #FFA500; top: 35%; left: 5%; animation-delay: 5s; }

        /* Enhanced header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .title {
            font-size: 3.5em;
            background: linear-gradient(45deg, #8B008B, #FF69B4, #9370DB, #FF1493);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 15px;
            animation: titleBounce 3s infinite ease-in-out;
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            25% { transform: translateY(-5px) scale(1.02); }
            50% { transform: translateY(-10px) scale(1.05); }
            75% { transform: translateY(-5px) scale(1.02); }
        }

        .subtitle {
            font-size: 1.4em;
            color: #9932CC;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 5px #9932CC; }
            to { text-shadow: 0 0 20px #9932CC; }
        }

        /* Enhanced progress section with achievements */
        .progress-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            text-align: center;
            border: 3px solid #DDA0DD;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border-radius: 15px;
            padding: 15px;
            border: 2px solid #DDA0DD;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #8B008B;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #9932CC;
            font-size: 0.9em;
        }

        .progress-bar {
            background: #E6E6FA;
            border-radius: 25px;
            height: 35px;
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
            border: 2px solid #DDA0DD;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF69B4, #BA55D3, #9370DB);
            border-radius: 25px;
            transition: width 1s ease;
            position: relative;
            animation: progressGlow 2s ease-in-out infinite alternate;
        }

        @keyframes progressGlow {
            from { box-shadow: inset 0 0 10px rgba(255,255,255,0.3); }
            to { box-shadow: inset 0 0 20px rgba(255,255,255,0.6); }
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        /* Achievement badges */
        .achievements {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .badge {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            border: 3px solid #FFD700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            animation: badgeFloat 3s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .badge:hover {
            transform: scale(1.2);
        }

        .badge.locked {
            background: #CCCCCC;
            border-color: #999999;
            opacity: 0.6;
        }

        @keyframes badgeFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* Enhanced subject buttons */
        .main-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .subject-btn {
            height: 140px;
            border: none;
            border-radius: 25px;
            font-size: 1.6em;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .subject-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .subject-btn:hover::before {
            left: 100%;
        }

        .math-btn {
            background: linear-gradient(135deg, #FF69B4, #FF1493, #DC143C);
        }

        .afrikaans-btn {
            background: linear-gradient(135deg, #9370DB, #8A2BE2, #4B0082);
        }

        .science-btn {
            background: linear-gradient(135deg, #32CD32, #228B22, #006400);
        }

        .subject-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }

        .subject-btn:active {
            transform: translateY(-4px) scale(1.02);
        }

        /* Activity screens */
        .activity-screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            position: relative;
            border: 3px solid #DDA0DD;
        }

        .activity-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .activity-title {
            font-size: 2.8em;
            background: linear-gradient(45deg, #8B008B, #FF69B4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            animation: titlePulse 2s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            font-size: 1.3em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .back-btn:hover {
            transform: scale(1.15) rotate(-10deg);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* Timer and score */
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 25px;
            border: 2px solid #DDA0DD;
        }

        .timer, .score {
            font-size: 1.3em;
            font-weight: bold;
            color: #8B008B;
        }

        .timer.warning {
            color: #FF6347;
            animation: timerBlink 0.5s infinite alternate;
        }

        @keyframes timerBlink {
            from { opacity: 1; }
            to { opacity: 0.5; }
        }

        /* Enhanced activity types */
        .activity-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .activity-type-btn {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border: 3px solid #DDA0DD;
            border-radius: 18px;
            padding: 18px 12px;
            font-size: 1.1em;
            color: #8B008B;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .activity-type-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .activity-type-btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .activity-type-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .activity-type-btn.active {
            background: linear-gradient(135deg, #FF69B4, #9370DB);
            color: white;
            border-color: #FF1493;
            transform: scale(1.05);
        }

        /* Enhanced question area */
        .question-area {
            background: linear-gradient(135deg, #F0F8FF, #F5F5DC);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 25px;
            border: 4px solid #DDA0DD;
            position: relative;
            overflow: hidden;
        }

        .question-area::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #FF69B4, #9370DB, #FF1493, #8A2BE2);
            border-radius: 25px;
            z-index: -1;
            animation: borderGlow 3s linear infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .question {
            font-size: 1.8em;
            color: #4B0082;
            text-align: center;
            margin-bottom: 25px;
            font-weight: bold;
            line-height: 1.4;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .difficulty-indicator {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 20px;
        }

        .difficulty-star {
            color: #FFD700;
            font-size: 1.2em;
        }

        .difficulty-star.empty {
            color: #CCCCCC;
        }

        /* Enhanced options */
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
            margin-top: 25px;
        }

        .option {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border: 3px solid #DDA0DD;
            border-radius: 18px;
            padding: 22px;
            font-size: 1.3em;
            color: #8B008B;
            cursor: pointer;
            transition: all 0.4s ease;
            text-align: center;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s ease;
        }

        .option:hover::before {
            left: 100%;
        }

        .option:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
        }

        .option.correct {
            background: linear-gradient(135deg, #98FB98, #90EE90, #32CD32);
            border-color: #228B22;
            animation: correctPulse 0.8s ease;
            color: #006400;
        }

        .option.incorrect {
            background: linear-gradient(135deg, #FFB6C1, #FFA0A0, #FF6347);
            border-color: #DC143C;
            animation: shake 0.6s ease;
            color: #8B0000;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1) rotate(2deg); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        /* Enhanced feedback */
        .feedback {
            text-align: center;
            margin: 25px 0;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .correct-feedback {
            color: #32CD32;
            animation: celebration 1.5s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .incorrect-feedback {
            color: #FF6347;
            animation: sympathy 0.8s ease;
        }

        @keyframes celebration {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(-5deg); }
            50% { transform: scale(1.3) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-2deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        @keyframes sympathy {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Enhanced next button */
        .next-btn {
            display: none;
            background: linear-gradient(135deg, #FF69B4, #FF1493, #DC143C);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 18px 45px;
            font-size: 1.4em;
            cursor: pointer;
            margin: 0 auto;
            transition: all 0.4s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .next-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .next-btn:hover::before {
            left: 100%;
        }

        .next-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        /* Enhanced confetti */
        .confetti {
            position: fixed;
            top: -10px;
            left: 50%;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: confettiFall 4s linear infinite;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(720deg);
            }
        }

        /* Matching exercise enhancements */
        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 25px;
        }

        .word-column, .picture-column {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .word-item, .picture-item {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border: 3px solid #DDA0DD;
            border-radius: 18px;
            padding: 18px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            font-size: 1.3em;
            color: #8B008B;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }

        .word-item:hover, .picture-item:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .word-item.selected, .picture-item.selected {
            background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
            border-color: #FF69B4;
            animation: selectedPulse 1s infinite;
        }

        @keyframes selectedPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .word-item.matched, .picture-item.matched {
            background: linear-gradient(135deg, #98FB98, #90EE90);
            border-color: #32CD32;
            pointer-events: none;
            animation: matchSuccess 1s ease;
        }

        @keyframes matchSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.1) rotate(5deg); }
            100% { transform: scale(1); }
        }

        /* Science section styles */
        .science-topics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .topic-btn {
            background: linear-gradient(135deg, #98FB98, #32CD32);
            border: none;
            border-radius: 18px;
            padding: 20px;
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .topic-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .topic-btn.active {
            background: linear-gradient(135deg, #32CD32, #228B22);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .title { font-size: 2.5em; }
            .subject-btn { height: 120px; font-size: 1.4em; }
            .question { font-size: 1.4em; }
            .option { font-size: 1.1em; padding: 18px; }
            .options { grid-template-columns: 1fr; }
            .matching-container { grid-template-columns: 1fr; gap: 25px; }
            .stats-grid { grid-template-columns: 1fr; }
            .main-buttons { grid-template-columns: 1fr; }
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9em;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .tooltip:hover::after {
            opacity: 1;
        }

        /* Streak indicator */
        .streak-indicator {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 20px;
            padding: 10px 20px;
            color: white;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .streak-fire {
            animation: fireFlicker 0.5s infinite alternate;
        }

        @keyframes fireFlicker {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
    </style>
</head>
<body>
    <!-- Enhanced floating decorations -->
    <div class="decoration star">⭐</div>
    <div class="decoration heart">💕</div>
    <div class="decoration flower">🌸</div>
    <div class="decoration butterfly">🦋</div>
    <div class="decoration rainbow">🌈</div>
    <div class="decoration sun">☀️</div>

    <div class="container">
        <!-- Enhanced Homepage -->
        <div id="homepage">
            <div class="header">
                <h1 class="title">Super Learning Adventure! 🚀</h1>
                <p class="subtitle">Grade 3 Champions Begin Here!</p>
            </div>

            <div class="progress-section">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalStars">0</div>
                        <div class="stat-label">⭐ Total Stars</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="currentStreak">0</div>
                        <div class="stat-label">🔥 Current Streak</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="questionsAnswered">0</div>
                        <div class="stat-label">📊 Questions Done</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="accuracy">0%</div>
                        <div class="stat-label">🎯 Accuracy</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    <div class="progress-text" id="progressText">Level 1 - Beginner</div>
                </div>

                <div class="achievements">
                    <div class="badge tooltip" data-tooltip="First Star!" id="badge1">🌟</div>
                    <div class="badge locked tooltip" data-tooltip="Math Master (50 math questions)" id="badge2">🧮</div>
                    <div class="badge locked tooltip" data-tooltip="Language Expert (50 Afrikaans questions)" id="badge3">📚</div>
                    <div class="badge locked tooltip" data-tooltip="Science Explorer (25 science questions)" id="badge4">🔬</div>
                    <div class="badge locked tooltip" data-tooltip="Streak Master (10 in a row)" id="badge5">🔥</div>
                </div>
            </div>

            <div class="main-buttons">
                <button class="subject-btn math-btn" onclick="showSubject('math')">
                    🧮 Mathematics Magic ✨
                </button>
                <button class="subject-btn afrikaans-btn" onclick="showSubject('afrikaans')">
                    📚 Afrikaans Adventures 🇿🇦
                </button>
                <button class="subject-btn science-btn" onclick="showSubject('science')">
                    🔬 Science Exploration 🌍
                </button>
            </div>
        </div>

        <!-- Enhanced Mathematics Section -->
        <div id="mathSection" class="activity-screen">
            <button class="back-btn" onclick="showHomepage()">🏠</button>
            <div class="activity-header">
                <h2 class="activity-title">Mathematics Magic! 🧮</h2>
            </div>

            <div class="game-info">
                <div class="timer" id="mathTimer">⏰ 60s</div>
                <div class="score">Score: <span id="mathScore">0</span></div>
            </div>

            <div class="streak-indicator" id="mathStreak" style="display: none;">
                <span class="streak-fire">🔥</span> Amazing streak! Keep going! <span class="streak-fire">🔥</span>
            </div>

            <div class="activity-types">
                <button class="activity-type-btn active" onclick="setMathType('addition')">➕ Addition</button>
                <button class="activity-type-btn" onclick="setMathType('subtraction')">➖ Subtraction</button>
                <button class="activity-type-btn" onclick="setMathType('multiplication')">✖️ Multiplication</button>
                <button class="activity-type-btn" onclick="setMathType('division')">➗ Division</button>
                <button class="activity-type-btn" onclick="setMathType('word')">📝 Word Problems</button>
            </div>

            <div class="question-area">
                <div class="difficulty-indicator" id="mathDifficulty">
                    <span class="difficulty-star">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                </div>
                <div class="question" id="mathQuestion"></div>
                <div class="options" id="mathOptions"></div>
            </div>

            <div class="feedback" id="mathFeedback"></div>
            <button class="next-btn" id="mathNextBtn" onclick="nextMathQuestion()">Next Challenge ➡️</button>
        </div>

        <!-- Enhanced Afrikaans Section -->
        <div id="afrikaansSection" class="activity-screen">
            <button class="back-btn" onclick="showHomepage()">🏠</button>
            <div class="activity-header">
                <h2 class="activity-title">Afrikaans Adventures! 🇿🇦</h2>
            </div>

            <div class="game-info">
                <div class="timer" id="afrikaansTimer">⏰ 60s</div>
                <div class="score">Score: <span id="afrikaansScore">0</span></div>
            </div>

            <div class="streak-indicator" id="afrikaansStreak" style="display: none;">
                <span class="streak-fire">🔥</span> Uitstekend! (Excellent!) <span class="streak-fire">🔥</span>
            </div>

            <div class="activity-types">
                <button class="activity-type-btn active" onclick="setAfrikaansType('matching')">🔄 Match Words</button>
                <button class="activity-type-btn" onclick="setAfrikaansType('translation')">🌍 Translation</button>
                <button class="activity-type-btn" onclick="setAfrikaansType('fillblank')">✏️ Fill Blanks</button>
                <button class="activity-type-btn" onclick="setAfrikaansType('pronunciation')">🎵 Pronunciation</button>
            </div>

            <div class="question-area" id="afrikaansQuestionArea">
                <div class="difficulty-indicator" id="afrikaansDifficulty">
                    <span class="difficulty-star">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                </div>
                <div class="question" id="afrikaansQuestion"></div>
                <div id="afrikaansContent"></div>
            </div>
            <div class="feedback" id="afrikaansFeedback"></div>
            <button class="next-btn" id="afrikaansNextBtn" onclick="nextAfrikaansQuestion()">Volgende! (Next!) ➡️</button>
        </div>

        <!-- New Science Section -->
        <div id="scienceSection" class="activity-screen">
            <button class="back-btn" onclick="showHomepage()">🏠</button>
            <div class="activity-header">
                <h2 class="activity-title">Science Exploration! 🔬</h2>
            </div>

            <div class="game-info">
                <div class="timer" id="scienceTimer">⏰ 90s</div>
                <div class="score">Score: <span id="scienceScore">0</span></div>
            </div>

            <div class="streak-indicator" id="scienceStreak" style="display: none;">
                <span class="streak-fire">🔥</span> Future Scientist! <span class="streak-fire">🔥</span>
            </div>

            <div class="science-topics">
                <button class="topic-btn active" onclick="setScienceType('animals')">🐾 Animals</button>
                <button class="topic-btn" onclick="setScienceType('plants')">🌱 Plants</button>
                <button class="topic-btn" onclick="setScienceType('weather')">🌤️ Weather</button>
                <button class="topic-btn" onclick="setScienceType('space')">🚀 Space</button>
                <button class="topic-btn" onclick="setScienceType('body')">🏃 Human Body</button>
            </div>

            <div class="question-area" id="scienceQuestionArea">
                <div class="difficulty-indicator" id="scienceDifficulty">
                    <span class="difficulty-star">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                    <span class="difficulty-star empty">⭐</span>
                </div>
                <div class="question" id="scienceQuestion"></div>
                <div class="options" id="scienceOptions"></div>
            </div>
            <div class="feedback" id="scienceFeedback"></div>
            <button class="next-btn" id="scienceNextBtn" onclick="nextScienceQuestion()">Discover More! ➡️</button>
        </div>
    </div>

    <script>
        // Enhanced game state
        let gameState = {
            totalStars: 0,
            mathStars: 0,
            afrikaansStars: 0,
            scienceStars: 0,
            currentStreak: 0,
            bestStreak: 0,
            questionsAnswered: 0,
            correctAnswers: 0,
            currentMathType: 'addition',
            currentAfrikaansType: 'matching',
            currentScienceType: 'animals',
            currentMathQuestion: 0,
            currentAfrikaansQuestion: 0,
            currentScienceQuestion: 0,
            selectedWord: null,
            matchedPairs: 0,
            timers: {},
            badges: {
                firstStar: false,
                mathMaster: false,
                languageExpert: false,
                scienceExplorer: false,
                streakMaster: false
            },
            difficulty: {
                math: 1,
                afrikaans: 1,
                science: 1
            }
        };

        // Enhanced mathematics questions with difficulty levels
        const mathQuestions = {
            addition: [
                // Easy (1 star)
                { question: "What is 2 + 3?", options: ["4", "5", "6", "7"], correct: 1, difficulty: 1 },
                { question: "What is 5 + 4?", options: ["8", "9", "10", "11"], correct: 1, difficulty: 1 },
                { question: "What is 6 + 3?", options: ["8", "9", "10", "11"], correct: 1, difficulty: 1 },
                // Medium (2 stars)
                { question: "What is 15 + 27?", options: ["40", "41", "42", "43"], correct: 2, difficulty: 2 },
                { question: "What is 34 + 18?", options: ["50", "51", "52", "53"], correct: 2, difficulty: 2 },
                { question: "What is 29 + 16?", options: ["43", "44", "45", "46"], correct: 2, difficulty: 2 },
                // Hard (3 stars)
                { question: "What is 67 + 45?", options: ["110", "111", "112", "113"], correct: 2, difficulty: 3 },
                { question: "What is 89 + 38?", options: ["125", "126", "127", "128"], correct: 2, difficulty: 3 }
            ],
            subtraction: [
                { question: "What is 8 - 3?", options: ["4", "5", "6", "7"], correct: 1, difficulty: 1 },
                { question: "What is 15 - 7?", options: ["7", "8", "9", "10"], correct: 1, difficulty: 1 },
                { question: "What is 42 - 18?", options: ["22", "23", "24", "25"], correct: 2, difficulty: 2 },
                { question: "What is 85 - 37?", options: ["46", "47", "48", "49"], correct: 2, difficulty: 2 },
                { question: "What is 123 - 56?", options: ["65", "66", "67", "68"], correct: 2, difficulty: 3 }
            ],
            multiplication: [
                { question: "What is 3 × 2?", options: ["5", "6", "7", "8"], correct: 1, difficulty: 1 },
                { question: "What is 4 × 5?", options: ["18", "19", "20", "21"], correct: 2, difficulty: 1 },
                { question: "What is 7 × 6?", options: ["40", "41", "42", "43"], correct: 2, difficulty: 2 },
                { question: "What is 8 × 9?", options: ["70", "71", "72", "73"], correct: 2, difficulty: 2 },
                { question: "What is 12 × 7?", options: ["82", "83", "84", "85"], correct: 2, difficulty: 3 }
            ],
            division: [
                { question: "What is 10 ÷ 2?", options: ["4", "5", "6", "7"], correct: 1, difficulty: 1 },
                { question: "What is 15 ÷ 3?", options: ["4", "5", "6", "7"], correct: 1, difficulty: 1 },
                { question: "What is 24 ÷ 4?", options: ["5", "6", "7", "8"], correct: 1, difficulty: 2 },
                { question: "What is 35 ÷ 5?", options: ["6", "7", "8", "9"], correct: 1, difficulty: 2 },
                { question: "What is 48 ÷ 6?", options: ["7", "8", "9", "10"], correct: 1, difficulty: 3 }
            ],
            word: [
                { 
                    question: "Emma has 5 stickers. Her friend gives her 3 more. How many stickers does Emma have now?", 
                    options: ["6", "7", "8", "9"], 
                    correct: 2, 
                    difficulty: 1 
                },
                { 
                    question: "There are 12 birds in a tree. 4 birds fly away. How many birds are left?", 
                    options: ["6", "7", "8", "9"], 
                    correct: 2, 
                    difficulty: 1 
                },
                { 
                    question: "A farmer has 3 rows of tomatoes. Each row has 6 tomatoes. How many tomatoes are there in total?", 
                    options: ["16", "17", "18", "19"], 
                    correct: 2, 
                    difficulty: 2 
                },
                { 
                    question: "Sarah saves R8 every week. How much money will she have after 5 weeks?", 
                    options: ["R38", "R39", "R40", "R41"], 
                    correct: 2, 
                    difficulty: 2 
                }
            ]
        };

        // Enhanced Afrikaans questions with pronunciation guides
        const afrikaansQuestions = {
            matching: [
                {
                    pairs: [
                        { word: "Kat", picture: "🐱", english: "Cat", pronunciation: "kaht" },
                        { word: "Hond", picture: "🐶", english: "Dog", pronunciation: "hohnt" },
                        { word: "Huis", picture: "🏠", english: "House", pronunciation: "heys" },
                        { word: "Boom", picture: "🌳", english: "Tree", pronunciation: "bohm" }
                    ],
                    difficulty: 1
                },
                {
                    pairs: [
                        { word: "Appel", picture: "🍎", english: "Apple", pronunciation: "ah-pel" },
                        { word: "Boek", picture: "📚", english: "Book", pronunciation: "book" },
                        { word: "Son", picture: "☀️", english: "Sun", pronunciation: "sohn" },
                        { word: "Water", picture: "💧", english: "Water", pronunciation: "vah-ter" }
                    ],
                    difficulty: 1
                },
                {
                    pairs: [
                        { word: "Skool", picture: "🏫", english: "School", pronunciation: "skohl" },
                        { word: "Motor", picture: "🚗", english: "Car", pronunciation: "moh-tor" },
                        { word: "Tafel", picture: "🪑", english: "Table", pronunciation: "tah-fel" },
                        { word: "Venster", picture: "🪟", english: "Window", pronunciation: "ven-ster" }
                    ],
                    difficulty: 2
                }
            ],
            translation: [
                { question: "What does 'Dankie' mean?", options: ["Hello", "Thank you", "Goodbye", "Please"], correct: 1, difficulty: 1 },
                { question: "What does 'Goeie môre' mean?", options: ["Good night", "Good afternoon", "Good morning", "Good evening"], correct: 2, difficulty: 1 },
                { question: "What does 'Ek is honger' mean?", options: ["I am thirsty", "I am tired", "I am happy", "I am hungry"], correct: 3, difficulty: 2 },
                { question: "What does 'Waar is die badkamer?' mean?", options: ["What time is it?", "Where is the bathroom?", "How are you?", "What is your name?"], correct: 1, difficulty: 2 },
                { question: "What does 'Ek verstaan nie' mean?", options: ["I don't understand", "I don't like it", "I don't want it", "I don't know"], correct: 0, difficulty: 3 }
            ],
            fillblank: [
                { sentence: "My naam ___ Sarah.", options: ["is", "het", "kan", "wil"], correct: 0, translation: "My name is Sarah.", difficulty: 1 },
                { sentence: "Die kat ___ baie klein.", options: ["het", "is", "kan", "sal"], correct: 1, translation: "The cat is very small.", difficulty: 1 },
                { sentence: "Ons ___ na die winkel toe.", options: ["gaan", "het", "is", "was"], correct: 0, translation: "We are going to the shop.", difficulty: 2 },
                { sentence: "Sy ___ 'n pragtige rok.", options: ["loop", "eet", "dra", "slaap"], correct: 2, translation: "She wears a beautiful dress.", difficulty: 2 },
                { sentence: "Die kinders ___ in die tuin.", options: ["speel", "eet", "slaap", "lees"], correct: 0, translation: "The children play in the garden.", difficulty: 3 }
            ],
            pronunciation: [
                { word: "Aandete", pronunciation: "AHN-deh-teh", meaning: "Dinner", options: ["AHN-deh-teh", "an-DEH-teh", "aan-deh-TEH", "AAN-deh-teh"], correct: 0, difficulty: 2 },
                { word: "Gelukkig", pronunciation: "kheh-LUK-khikh", meaning: "Happy", options: ["geh-LUK-kig", "kheh-LUK-khikh", "ge-LUK-kigh", "geh-luk-KIGH"], correct: 1, difficulty: 3 },
                { word: "Vriende", pronunciation: "FREE-en-deh", meaning: "Friends", options: ["vree-EN-deh", "FREE-en-deh", "fri-EN-de", "VREE-en-de"], correct: 1, difficulty: 2 }
            ]
        };

        // New Science questions
        const scienceQuestions = {
            animals: [
                { question: "Which animal is known as the 'King of the Jungle'?", options: ["Tiger", "Lion", "Elephant", "Giraffe"], correct: 1, difficulty: 1 },
                { question: "What do pandas mainly eat?", options: ["Fish", "Meat", "Bamboo", "Fruits"], correct: 2, difficulty: 1 },
                { question: "Which animal can change its color?", options: ["Chameleon", "Lion", "Dog", "Cat"], correct: 0, difficulty: 2 },
                { question: "How many legs does a spider have?", options: ["6", "8", "10", "12"], correct: 1, difficulty: 2 },
                { question: "Which is the fastest land animal?", options: ["Lion", "Cheetah", "Horse", "Elephant"], correct: 1, difficulty: 3 }
            ],
            plants: [
                { question: "What do plants need to make their own food?", options: ["Soil only", "Water only", "Sunlight, water and air", "Fertilizer only"], correct: 2, difficulty: 1 },
                { question: "What part of the plant absorbs water?", options: ["Leaves", "Stem", "Roots", "Flowers"], correct: 2, difficulty: 1 },
                { question: "Which gas do plants take in from the air?", options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Hydrogen"], correct: 1, difficulty: 2 },
                { question: "What is the process called when plants make their own food?", options: ["Respiration", "Photosynthesis", "Digestion", "Circulation"], correct: 1, difficulty: 3 }
            ],
            weather: [
                { question: "What causes rain?", options: ["Wind", "Clouds", "Sun", "Moon"], correct: 1, difficulty: 1 },
                { question: "What do we use to measure temperature?", options: ["Ruler", "Scale", "Thermometer", "Clock"], correct: 2, difficulty: 1 },
                { question: "Which season comes after winter?", options: ["Summer", "Autumn", "Spring", "Winter"], correct: 2, difficulty: 1 },
                { question: "What creates lightning?", options: ["Rain", "Wind", "Electricity in clouds", "Thunder"], correct: 2, difficulty: 2 },
                { question: "What is the water cycle?", options: ["Plants growing", "Water moving between earth and sky", "Animals drinking", "Clouds forming"], correct: 1, difficulty: 3 }
            ],
            space: [
                { question: "What is the closest star to Earth?", options: ["Moon", "Sun", "Mars", "Venus"], correct: 1, difficulty: 1 },
                { question: "How many planets are in our solar system?", options: ["7", "8", "9", "10"], correct: 1, difficulty: 2 },
                { question: "What is the Red Planet?", options: ["Venus", "Mars", "Jupiter", "Saturn"], correct: 1, difficulty: 2 },
                { question: "What do we call a person who travels to space?", options: ["Pilot", "Astronaut", "Captain", "Explorer"], correct: 1, difficulty: 1 },
                { question: "Which planet is known for its rings?", options: ["Earth", "Mars", "Saturn", "Venus"], correct: 2, difficulty: 3 }
            ],
            body: [
                { question: "How many bones are babies born with approximately?", options: ["206", "270", "300", "150"], correct: 2, difficulty: 3 },
                { question: "What is the strongest muscle in the human body?", options: ["Bicep", "Heart", "Jaw", "Leg"], correct: 2, difficulty: 2 },
                { question: "How many senses do humans have?", options: ["4", "5", "6", "7"], correct: 1, difficulty: 1 },
                { question: "What organ pumps blood through your body?", options: ["Lungs", "Brain", "Heart", "Liver"], correct: 2, difficulty: 1 },
                { question: "What helps you digest food in your stomach?", options: ["Water", "Air", "Stomach acid", "Blood"], correct: 2, difficulty: 2 }
            ]
        };

        // Timer functions
        function startTimer(subject, duration = 60) {
            if (gameState.timers[subject]) {
                clearInterval(gameState.timers[subject]);
            }
            
            let timeLeft = duration;
            const timerElement = document.getElementById(`${subject}Timer`);
            
            gameState.timers[subject] = setInterval(() => {
                timeLeft--;
                timerElement.textContent = `⏰ ${timeLeft}s`;
                
                if (timeLeft <= 10) {
                    timerElement.classList.add('warning');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(gameState.timers[subject]);
                    handleTimeUp(subject);
                }
            }, 1000);
        }

        function stopTimer(subject) {
            if (gameState.timers[subject]) {
                clearInterval(gameState.timers[subject]);
                gameState.timers[subject] = null;
            }
            const timerElement = document.getElementById(`${subject}Timer`);
            timerElement.classList.remove('warning');
        }

        function handleTimeUp(subject) {
            const feedbackElement = document.getElementById(`${subject}Feedback`);
            feedbackElement.innerHTML = '<span class="incorrect-feedback">⏰ Time\'s up! Don\'t worry, try the next one!</span>';
            setTimeout(() => {
                if (subject === 'math') nextMathQuestion();
                else if (subject === 'afrikaans') nextAfrikaansQuestion();
                else if (subject === 'science') nextScienceQuestion();
            }, 2000);
        }

        // Enhanced initialization
        function initGame() {
            loadGameState();
            updateProgressDisplay();
            showHomepage();
            addSoundEffects();
        }

        function loadGameState() {
            updateProgressDisplay();
            updateBadges();
        }

        function saveGameState() {
            updateProgressDisplay();
            updateBadges();
        }

        // Enhanced progress display
        function updateProgressDisplay() {
            gameState.totalStars = gameState.mathStars + gameState.afrikaansStars + gameState.scienceStars;
            const accuracy = gameState.questionsAnswered > 0 ? Math.round((gameState.correctAnswers / gameState.questionsAnswered) * 100) : 0;
            
            document.getElementById('totalStars').textContent = gameState.totalStars;
            document.getElementById('currentStreak').textContent = gameState.currentStreak;
            document.getElementById('questionsAnswered').textContent = gameState.questionsAnswered;
            document.getElementById('accuracy').textContent = accuracy + '%';
            
            const progressPercent = Math.min((gameState.totalStars / 50) * 100, 100);
            document.getElementById('progressFill').style.width = progressPercent + '%';
            
            // Update level text
            let level = "Beginner";
            if (gameState.totalStars >= 40) level = "Expert";
            else if (gameState.totalStars >= 25) level = "Advanced";
            else if (gameState.totalStars >= 10) level = "Intermediate";
            
            document.getElementById('progressText').textContent = `Level ${Math.floor(gameState.totalStars / 10) + 1} - ${level}`;
        }

        // Badge system
        function updateBadges() {
            // First Star
            if (gameState.totalStars >= 1 && !gameState.badges.firstStar) {
                gameState.badges.firstStar = true;
                unlockBadge('badge1');
            }
            
            // Math Master
            if (gameState.mathStars >= 15 && !gameState.badges.mathMaster) {
                gameState.badges.mathMaster = true;
                unlockBadge('badge2');
            }
            
            // Language Expert
            if (gameState.afrikaansStars >= 15 && !gameState.badges.languageExpert) {
                gameState.badges.languageExpert = true;
                unlockBadge('badge3');
            }
            
            // Science Explorer
            if (gameState.scienceStars >= 10 && !gameState.badges.scienceExplorer) {
                gameState.badges.scienceExplorer = true;
                unlockBadge('badge4');
            }
            
            // Streak Master
            if (gameState.currentStreak >= 10 && !gameState.badges.streakMaster) {
                gameState.badges.streakMaster = true;
                unlockBadge('badge5');
            }
        }

        function unlockBadge(badgeId) {
            const badge = document.getElementById(badgeId);
            badge.classList.remove('locked');
            badge.style.animation = 'badgeUnlock 1s ease';
            setTimeout(() => {
                badge.style.animation = 'badgeFloat 3s ease-in-out infinite';
            }, 1000);
            
            // Show celebration
            showBadgeUnlocked();
        }

        function showBadgeUnlocked() {
            const celebration = document.createElement('div');
            celebration.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #FFD700, #FFA500);
                color: white;
                padding: 20px 30px;
                border-radius: 20px;
                font-size: 1.5em;
                font-weight: bold;
                z-index: 10000;
                animation: badgeUnlock 2s ease;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            `;
            celebration.innerHTML = '🏆 New Badge Unlocked! 🏆';
            document.body.appendChild(celebration);
            
            setTimeout(() => {
                celebration.remove();
            }, 2000);
        }

        // Enhanced navigation
        function showHomepage() {
            document.getElementById('homepage').style.display = 'block';
            document.getElementById('mathSection').style.display = 'none';
            document.getElementById('afrikaansSection').style.display = 'none';
            document.getElementById('scienceSection').style.display = 'none';
            
            // Stop all timers
            stopTimer('math');
            stopTimer('afrikaans');
            stopTimer('science');
        }

        function showSubject(subject) {
            document.getElementById('homepage').style.display = 'none';
            
            if (subject === 'math') {
                document.getElementById('mathSection').style.display = 'block';
                document.getElementById('afrikaansSection').style.display = 'none';
                document.getElementById('scienceSection').style.display = 'none';
                loadMathQuestion();
                startTimer('math', 60);
            } else if (subject === 'afrikaans') {
                document.getElementById('afrikaansSection').style.display = 'block';
                document.getElementById('mathSection').style.display = 'none';
                document.getElementById('scienceSection').style.display = 'none';
                loadAfrikaansQuestion();
                startTimer('afrikaans', 60);
            } else if (subject === 'science') {
                document.getElementById('scienceSection').style.display = 'block';
                document.getElementById('mathSection').style.display = 'none';
                document.getElementById('afrikaansSection').style.display = 'none';
                loadScienceQuestion();
                startTimer('science', 90);
            }
        }

        // Enhanced math functions
        function setMathType(type) {
            gameState.currentMathType = type;
            gameState.currentMathQuestion = 0;
            
            document.querySelectorAll('#mathSection .activity-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadMathQuestion();
            startTimer('math', 60);
        }

        function loadMathQuestion() {
            const questions = mathQuestions[gameState.currentMathType];
            if (!questions || questions.length === 0) return;
            
            const currentQ = questions[gameState.currentMathQuestion % questions.length];
            
            // Update difficulty indicator
            updateDifficultyDisplay('math', currentQ.difficulty);
            
            document.getElementById('mathQuestion').textContent = currentQ.question;
            document.getElementById('mathFeedback').textContent = '';
            document.getElementById('mathNextBtn').style.display = 'none';
            
            // Hide streak indicator
            document.getElementById('mathStreak').style.display = 'none';
            
            const optionsContainer = document.getElementById('mathOptions');
            optionsContainer.innerHTML = '';
            
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectMathAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function selectMathAnswer(selectedIndex) {
            stopTimer('math');
            
            const questions = mathQuestions[gameState.currentMathType];
            const currentQ = questions[gameState.currentMathQuestion % questions.length];
            const options = document.querySelectorAll('#mathOptions .option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            gameState.questionsAnswered++;
            
            if (selectedIndex === currentQ.correct) {
                options[selectedIndex].classList.add('correct');
                document.getElementById('mathFeedback').innerHTML = getCorrectFeedback();
                createEnhancedConfetti();
                
                gameState.mathStars++;
                gameState.correctAnswers++;
                gameState.currentStreak++;
                
                if (gameState.currentStreak > gameState.bestStreak) {
                    gameState.bestStreak = gameState.currentStreak;
                }
                
                // Show streak indicator for streaks of 3 or more
                if (gameState.currentStreak >= 3) {
                    document.getElementById('mathStreak').style.display = 'block';
                }
                
                // Update score
                const scoreElement = document.getElementById('mathScore');
                const currentScore = parseInt(scoreElement.textContent);
                scoreElement.textContent = currentScore + (currentQ.difficulty * 10);
                
                saveGameState();
                setTimeout(() => {
                    document.getElementById('mathNextBtn').style.display = 'block';
                }, 1000);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[currentQ.correct].classList.add('correct');
                document.getElementById('mathFeedback').innerHTML = getIncorrectFeedback();
                
                gameState.currentStreak = 0;
                document.getElementById('mathStreak').style.display = 'none';
                
                setTimeout(() => {
                    document.getElementById('mathNextBtn').style.display = 'block';
                }, 2000);
            }
        }

        function nextMathQuestion() {
            gameState.currentMathQuestion++;
            loadMathQuestion();
            startTimer('math', 60);
        }

        // Enhanced Afrikaans functions
        function setAfrikaansType(type) {
            gameState.currentAfrikaansType = type;
            gameState.currentAfrikaansQuestion = 0;
            
            document.querySelectorAll('#afrikaansSection .activity-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadAfrikaansQuestion();
            startTimer('afrikaans', 60);
        }

        function loadAfrikaansQuestion() {
            const type = gameState.currentAfrikaansType;
            document.getElementById('afrikaansFeedback').textContent = '';
            document.getElementById('afrikaansNextBtn').style.display = 'none';
            document.getElementById('afrikaansStreak').style.display = 'none';
            
            if (type === 'matching') {
                loadMatchingExercise();
            } else if (type === 'translation') {
                loadTranslationQuestion();
            } else if (type === 'fillblank') {
                loadFillBlankQuestion();
            } else if (type === 'pronunciation') {
                loadPronunciationQuestion();
            }
        }

        function loadMatchingExercise() {
            const matchingData = afrikaansQuestions.matching[gameState.currentAfrikaansQuestion % afrikaansQuestions.matching.length];
            gameState.selectedWord = null;
            gameState.matchedPairs = 0;
            
            updateDifficultyDisplay('afrikaans', matchingData.difficulty);
            
            document.getElementById('afrikaansQuestion').textContent = 'Match the Afrikaans words with their pictures! 🔄';
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = `
                <div class="matching-container">
                    <div class="word-column" id="wordColumn"></div>
                    <div class="picture-column" id="pictureColumn"></div>
                </div>
            `;
            
            const wordColumn = document.getElementById('wordColumn');
            const pictureColumn = document.getElementById('pictureColumn');
            
            const shuffledWords = [...matchingData.pairs].sort(() => Math.random() - 0.5);
            const shuffledPictures = [...matchingData.pairs].sort(() => Math.random() - 0.5);
            
            shuffledWords.forEach((pair, index) => {
                const wordDiv = document.createElement('div');
                wordDiv.className = 'word-item';
                wordDiv.innerHTML = `${pair.word}<br><small>(${pair.pronunciation})</small>`;
                wordDiv.dataset.word = pair.word;
                wordDiv.onclick = () => selectWord(wordDiv);
                wordColumn.appendChild(wordDiv);
            });
            
            shuffledPictures.forEach((pair, index) => {
                const pictureDiv = document.createElement('div');
                pictureDiv.className = 'picture-item';
                pictureDiv.innerHTML = `${pair.picture}<br><small>${pair.english}</small>`;
                pictureDiv.dataset.word = pair.word;
                pictureDiv.onclick = () => selectPicture(pictureDiv);
                pictureColumn.appendChild(pictureDiv);
            });
        }

        function loadTranslationQuestion() {
            const questions = afrikaansQuestions.translation;
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            
            updateDifficultyDisplay('afrikaans', currentQ.difficulty);
            
            document.getElementById('afrikaansQuestion').textContent = currentQ.question;
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = '<div class="options" id="afrikaansOptions"></div>';
            
            const optionsContainer = document.getElementById('afrikaansOptions');
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAfrikaansAnswer(index, 'translation');
                optionsContainer.appendChild(optionDiv);
            });
        }

        function loadFillBlankQuestion() {
            const questions = afrikaansQuestions.fillblank;
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            
            updateDifficultyDisplay('afrikaans', currentQ.difficulty);
            
            document.getElementById('afrikaansQuestion').innerHTML = `
                Fill in the blank:<br>
                <strong>${currentQ.sentence}</strong><br>
                <small style="color: #9370DB; margin-top: 10px;">(${currentQ.translation})</small>
            `;
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = '<div class="options" id="afrikaansOptions"></div>';
            
            const optionsContainer = document.getElementById('afrikaansOptions');
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAfrikaansAnswer(index, 'fillblank');
                optionsContainer.appendChild(optionDiv);
            });
        }

        function loadPronunciationQuestion() {
            const questions = afrikaansQuestions.pronunciation;
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            
            updateDifficultyDisplay('afrikaans', currentQ.difficulty);
            
            document.getElementById('afrikaansQuestion').innerHTML = `
                How do you pronounce this word?<br>
                <strong style="font-size: 1.5em; color: #FF69B4;">${currentQ.word}</strong><br>
                <small style="color: #9370DB;">(Meaning: ${currentQ.meaning})</small>
            `;
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = '<div class="options" id="afrikaansOptions"></div>';
            
            const optionsContainer = document.getElementById('afrikaansOptions');
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAfrikaansAnswer(index, 'pronunciation');
                optionsContainer.appendChild(optionDiv);
            });
        }

        function selectWord(wordElement) {
            document.querySelectorAll('.word-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            
            wordElement.classList.add('selected');
            gameState.selectedWord = wordElement.dataset.word;
        }

        function selectPicture(pictureElement) {
            if (!gameState.selectedWord) {
                document.getElementById('afrikaansFeedback').innerHTML = '<span class="incorrect-feedback">Kies eers \'n woord! (Please select a word first!) 💡</span>';
                return;
            }
            
            if (gameState.selectedWord === pictureElement.dataset.word) {
                const wordElement = document.querySelector(`.word-item[data-word="${gameState.selectedWord}"]`);
                wordElement.classList.add('matched');
                pictureElement.classList.add('matched');
                
                gameState.matchedPairs++;
                gameState.selectedWord = null;
                
                if (gameState.matchedPairs === afrikaansQuestions.matching[gameState.currentAfrikaansQuestion % afrikaansQuestions.matching.length].pairs.length) {
                    stopTimer('afrikaans');
                    document.getElementById('afrikaansFeedback').innerHTML = '<span class="correct-feedback">🌟 Uitstekend! Alles korrek! (Excellent! All correct!) 🌟</span>';
                    createEnhancedConfetti();
                    gameState.afrikaansStars++;
                    gameState.correctAnswers++;
                    gameState.currentStreak++;
                    
                    if (gameState.currentStreak >= 3) {
                        document.getElementById('afrikaansStreak').style.display = 'block';
                    }
                    
                    const scoreElement = document.getElementById('afrikaansScore');
                    const currentScore = parseInt(scoreElement.textContent);
                    scoreElement.textContent = currentScore + 20;
                    
                    saveGameState();
                    setTimeout(() => {
                        document.getElementById('afrikaansNextBtn').style.display = 'block';
                    }, 1000);
                } else {
                    document.getElementById('afrikaansFeedback').innerHTML = '<span class="correct-feedback">✨ Goed so! Hou aan! (Good job! Keep going!) ✨</span>';
                }
            } else {
                document.getElementById('afrikaansFeedback').innerHTML = '<span class="incorrect-feedback">Probeer weer! (Try again!) That\'s not the right match. 💡</span>';
                document.querySelectorAll('.word-item.selected').forEach(item => {
                    item.classList.remove('selected');
                });
                gameState.selectedWord = null;
                gameState.currentStreak = 0;
            }
        }

        function selectAfrikaansAnswer(selectedIndex, type) {
            stopTimer('afrikaans');
            
            const questions = afrikaansQuestions[type];
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            const options = document.querySelectorAll('#afrikaansOptions .option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            gameState.questionsAnswered++;
            
            if (selectedIndex === currentQ.correct) {
                options[selectedIndex].classList.add('correct');
                document.getElementById('afrikaansFeedback').innerHTML = getCorrectFeedbackAfrikaans();
                createEnhancedConfetti();
                gameState.afrikaansStars++;
                gameState.correctAnswers++;
                gameState.currentStreak++;
                
                if (gameState.currentStreak >= 3) {
                    document.getElementById('afrikaansStreak').style.display = 'block';
                }
                
                const scoreElement = document.getElementById('afrikaansScore');
                const currentScore = parseInt(scoreElement.textContent);
                scoreElement.textContent = currentScore + (currentQ.difficulty * 10);
                
                saveGameState();
                setTimeout(() => {
                    document.getElementById('afrikaansNextBtn').style.display = 'block';
                }, 1000);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[currentQ.correct].classList.add('correct');
                document.getElementById('afrikaansFeedback').innerHTML = getIncorrectFeedbackAfrikaans();
                gameState.currentStreak = 0;
                document.getElementById('afrikaansStreak').style.display = 'none';
                setTimeout(() => {
                    document.getElementById('afrikaansNextBtn').style.display = 'block';
                }, 2000);
            }
        }

        function nextAfrikaansQuestion() {
            gameState.currentAfrikaansQuestion++;
            loadAfrikaansQuestion();
            startTimer('afrikaans', 60);
        }

        // Science functions
        function setScienceType(type) {
            gameState.currentScienceType = type;
            gameState.currentScienceQuestion = 0;
            
            document.querySelectorAll('#scienceSection .topic-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadScienceQuestion();
            startTimer('science', 90);
        }

        function loadScienceQuestion() {
            const questions = scienceQuestions[gameState.currentScienceType];
            if (!questions || questions.length === 0) return;
            
            const currentQ = questions[gameState.currentScienceQuestion % questions.length];
            
            updateDifficultyDisplay('science', currentQ.difficulty);
            
            document.getElementById('scienceQuestion').textContent = currentQ.question;
            document.getElementById('scienceFeedback').textContent = '';
            document.getElementById('scienceNextBtn').style.display = 'none';
            document.getElementById('scienceStreak').style.display = 'none';
            
            const optionsContainer = document.getElementById('scienceOptions');
            optionsContainer.innerHTML = '';
            
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectScienceAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function selectScienceAnswer(selectedIndex) {
            stopTimer('science');
            
            const questions = scienceQuestions[gameState.currentScienceType];
            const currentQ = questions[gameState.currentScienceQuestion % questions.length];
            const options = document.querySelectorAll('#scienceOptions .option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            gameState.questionsAnswered++;
            
            if (selectedIndex === currentQ.correct) {
                options[selectedIndex].classList.add('correct');
                document.getElementById('scienceFeedback').innerHTML = getCorrectFeedbackScience();
                createEnhancedConfetti();
                gameState.scienceStars++;
                gameState.correctAnswers++;
                gameState.currentStreak++;
                
                if (gameState.currentStreak >= 3) {
                    document.getElementById('scienceStreak').style.display = 'block';
                }
                
                const scoreElement = document.getElementById('scienceScore');
                const currentScore = parseInt(scoreElement.textContent);
                scoreElement.textContent = currentScore + (currentQ.difficulty * 15);
                
                saveGameState();
                setTimeout(() => {
                    document.getElementById('scienceNextBtn').style.display = 'block';
                }, 1000);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[currentQ.correct].classList.add('correct');
                document.getElementById('scienceFeedback').innerHTML = getIncorrectFeedbackScience();
                gameState.currentStreak = 0;
                document.getElementById('scienceStreak').style.display = 'none';
                setTimeout(() => {
                    document.getElementById('scienceNextBtn').style.display = 'block';
                }, 2000);
            }
        }

        function nextScienceQuestion() {
            gameState.currentScienceQuestion++;
            loadScienceQuestion();
            startTimer('science', 90);
        }

        // Utility functions
        function updateDifficultyDisplay(subject, difficulty) {
            const difficultyContainer = document.getElementById(`${subject}Difficulty`);
            const stars = difficultyContainer.querySelectorAll('.difficulty-star');
            
            stars.forEach((star, index) => {
                if (index < difficulty) {
                    star.classList.remove('empty');
                } else {
                    star.classList.add('empty');
                }
            });
        }

        function getCorrectFeedback() {
            const feedbacks = [
                '🌟 Outstanding! You\'re a math superstar! 🌟',
                '✨ Brilliant work! Keep it up! ✨',
                '🎉 Perfect! You\'re getting better! 🎉',
                '🚀 Amazing! Math genius in action! 🚀',
                '💫 Fantastic! You nailed it! 💫'
            ];
            return `<span class="correct-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        function getIncorrectFeedback() {
            const feedbacks = [
                '💡 Good try! The correct answer is highlighted. Let\'s learn together! 💡',
                '🎯 Almost there! Check the green answer and try again next time! 🎯',
                '📚 Learning is fun! See the correct answer and keep practicing! 📚',
                '🌟 No worries! Every mistake helps us learn something new! 🌟'
            ];
            return `<span class="incorrect-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        function getCorrectFeedbackAfrikaans() {
            const feedbacks = [
                '🌟 Uitstekend! Jy is \'n taal-superster! (Excellent! You\'re a language superstar!) 🌟',
                '✨ Baie goed! Hou so aan! (Very good! Keep it up!) ✨',
                '🎉 Perfek! Jy word beter! (Perfect! You\'re getting better!) 🎉',
                '🚀 Ongelooflik! Taal-genie! (Amazing! Language genius!) 🚀'
            ];
            return `<span class="correct-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        function getIncorrectFeedbackAfrikaans() {
            const feedbacks = [
                '💡 Goeie poging! Probeer weer! (Good try! Try again!) 💡',
                '🎯 Byna reg! Kyk na die groen antwoord! (Almost right! Look at the green answer!) 🎯',
                '📚 Leer is lekker! Oefen net verder! (Learning is fun! Keep practicing!) 📚'
            ];
            return `<span class="incorrect-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        function getCorrectFeedbackScience() {
            const feedbacks = [
                '🌟 Incredible! Future scientist detected! 🌟',
                '🔬 Brilliant discovery! Einstein would be proud! 🔬',
                '🚀 Amazing! You\'re exploring the universe! 🚀',
                '🌍 Perfect! Science superstar in action! 🌍',
                '💫 Outstanding! Keep exploring and learning! 💫'
            ];
            return `<span class="correct-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        function getIncorrectFeedbackScience() {
            const feedbacks = [
                '💡 Great curiosity! Scientists learn by trying! 💡',
                '🔍 Good thinking! Check the correct answer and explore more! 🔍',
                '🌟 Every scientist makes discoveries by learning! Keep exploring! 🌟',
                '🚀 Nice try! The best discoveries come from practice! 🚀'
            ];
            return `<span class="incorrect-feedback">${feedbacks[Math.floor(Math.random() * feedbacks.length)]}</span>`;
        }

        // Enhanced confetti system
        function createEnhancedConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#9370DB', '#32CD32', '#FF6347', '#00CED1', '#FFA500'];
            const shapes = ['●', '■', '▲', '★', '♦'];
            
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    confetti.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    confetti.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
                    confetti.style.fontSize = (Math.random() * 10 + 10) + 'px';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 6000);
                }, i * 50);
            }
        }

        // Sound effect visual indicators
        function addSoundEffects() {
            // Add visual sound effect indicators
            const style = document.createElement('style');
            style.textContent = `
                @keyframes badgeUnlock {
                    0% { transform: scale(0) rotate(0deg); opacity: 0; }
                    50% { transform: scale(1.3) rotate(180deg); opacity: 1; }
                    100% { transform: scale(1) rotate(360deg); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
        }

        // Initialize the game when page loads
        window.onload = initGame;
    </script>
</body>
</html>

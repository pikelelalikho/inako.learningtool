<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 Fun Learning üåü</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(45deg, #FFB6C1, #E6E6FA, #B19CD9, #FFB6C1);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Floating decorations */
        .decoration {
            position: absolute;
            pointer-events: none;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .star { font-size: 2em; color: #FFD700; top: 10%; left: 10%; }
        .heart { font-size: 1.8em; color: #FF69B4; top: 20%; right: 15%; }
        .flower { font-size: 2.2em; color: #FF1493; bottom: 20%; left: 20%; }
        .butterfly { font-size: 1.5em; color: #DA70D6; top: 30%; right: 30%; }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .title {
            font-size: 3em;
            color: #8B008B;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .subtitle {
            font-size: 1.2em;
            color: #9932CC;
            margin-bottom: 20px;
        }

        /* Progress Section */
        .progress-section {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stars-earned {
            font-size: 1.5em;
            color: #8B008B;
            margin-bottom: 15px;
        }

        .progress-bar {
            background: #E6E6FA;
            border-radius: 25px;
            height: 30px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF69B4, #BA55D3);
            border-radius: 25px;
            transition: width 0.5s ease;
            position: relative;
        }

        /* Main buttons */
        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
        }

        .subject-btn {
            width: 300px;
            height: 120px;
            border: none;
            border-radius: 25px;
            font-size: 1.8em;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .math-btn {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
        }

        .afrikaans-btn {
            background: linear-gradient(135deg, #9370DB, #8A2BE2);
        }

        .subject-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .subject-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        /* Activity screens */
        .activity-screen {
            display: none;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
        }

        .activity-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .activity-title {
            font-size: 2.5em;
            color: #8B008B;
            margin-bottom: 15px;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #FF69B4;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .back-btn:hover {
            transform: scale(1.1);
            background: #FF1493;
        }

        /* Question area */
        .question-area {
            background: #F0F8FF;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            border: 3px solid #DDA0DD;
        }

        .question {
            font-size: 1.6em;
            color: #4B0082;
            text-align: center;
            margin-bottom: 25px;
            font-weight: bold;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .option {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border: 3px solid #DDA0DD;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.3em;
            color: #8B008B;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
        }

        .option.correct {
            background: linear-gradient(135deg, #98FB98, #90EE90);
            border-color: #32CD32;
            animation: correctPulse 0.6s ease;
        }

        .option.incorrect {
            background: linear-gradient(135deg, #FFB6C1, #FFA0A0);
            border-color: #FF6347;
            animation: shake 0.5s ease;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Feedback area */
        .feedback {
            text-align: center;
            margin: 20px 0;
            font-size: 1.4em;
            font-weight: bold;
            min-height: 40px;
        }

        .correct-feedback {
            color: #32CD32;
            animation: celebration 1s ease;
        }

        .incorrect-feedback {
            color: #FF6347;
        }

        @keyframes celebration {
            0% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1); }
        }

        /* Next button */
        .next-btn {
            display: none;
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 15px 40px;
            font-size: 1.3em;
            cursor: pointer;
            margin: 0 auto;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* Confetti animation */
        .confetti {
            position: fixed;
            top: -10px;
            left: 50%;
            width: 10px;
            height: 10px;
            background: #FFD700;
            animation: confettiFall 3s linear infinite;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .title { font-size: 2.2em; }
            .subject-btn { width: 280px; height: 100px; font-size: 1.5em; }
            .question { font-size: 1.3em; }
            .option { font-size: 1.1em; padding: 15px; }
            .options { grid-template-columns: 1fr; }
        }

        /* Activity type buttons */
        .activity-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .activity-type-btn {
            background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2em;
            color: #8B008B;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .activity-type-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .activity-type-btn.active {
            background: linear-gradient(135deg, #FF69B4, #9370DB);
            color: white;
        }

        /* Matching exercise styles */
        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .word-column, .picture-column {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .word-item, .picture-item {
            background: linear-gradient(135deg, #FFE4E6, #E6E6FA);
            border: 3px solid #DDA0DD;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2em;
            color: #8B008B;
            font-weight: bold;
        }

        .word-item:hover, .picture-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .word-item.selected, .picture-item.selected {
            background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
            border-color: #FF69B4;
        }

        .word-item.matched, .picture-item.matched {
            background: linear-gradient(135deg, #98FB98, #90EE90);
            border-color: #32CD32;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Floating decorations -->
    <div class="decoration star">‚≠ê</div>
    <div class="decoration heart">üíï</div>
    <div class="decoration flower">üå∏</div>
    <div class="decoration butterfly">ü¶ã</div>

    <div class="container">
        <!-- Homepage -->
        <div id="homepage">
            <div class="header">
                <h1 class="title">Fun Learning Time! üåü</h1>
                <p class="subtitle">Grade 3 Adventures Await!</p>
            </div>

            <div class="progress-section">
                <div class="stars-earned">
                    Stars Earned: <span id="totalStars">0</span> ‚≠ê
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <p style="color: #8B008B;">Keep learning to earn more stars!</p>
            </div>

            <div class="main-buttons">
                <button class="subject-btn math-btn" onclick="showSubject('math')">
                    üìä Mathematics üî¢
                </button>
                <button class="subject-btn afrikaans-btn" onclick="showSubject('afrikaans')">
                    üìö Afrikaans üáøüá¶
                </button>
            </div>
        </div>

        <!-- Mathematics Section -->
        <div id="mathSection" class="activity-screen">
            <button class="back-btn" onclick="showHomepage()">üè†</button>
            <div class="activity-header">
                <h2 class="activity-title">Mathematics Fun! üìä</h2>
            </div>

            <div class="activity-types">
                <button class="activity-type-btn active" onclick="setMathType('addition')">‚ûï Addition</button>
                <button class="activity-type-btn" onclick="setMathType('subtraction')">‚ûñ Subtraction</button>
                <button class="activity-type-btn" onclick="setMathType('multiplication')">‚úñÔ∏è Multiplication</button>
                <button class="activity-type-btn" onclick="setMathType('word')">üìù Word Problems</button>
            </div>

            <div class="question-area">
                <div class="question" id="mathQuestion"></div>
                <div class="options" id="mathOptions"></div>
            </div>

            <div class="feedback" id="mathFeedback"></div>
            <button class="next-btn" id="mathNextBtn" onclick="nextMathQuestion()">Next Question ‚û°Ô∏è</button>
        </div>

        <!-- Afrikaans Section -->
        <div id="afrikaansSection" class="activity-screen">
            <button class="back-btn" onclick="showHomepage()">üè†</button>
            <div class="activity-header">
                <h2 class="activity-title">Afrikaans Pret! üáøüá¶</h2>
            </div>

            <div class="activity-types">
                <button class="activity-type-btn active" onclick="setAfrikaansType('matching')">üîÑ Match Words</button>
                <button class="activity-type-btn" onclick="setAfrikaansType('translation')">üåç Translation</button>
                <button class="activity-type-btn" onclick="setAfrikaansType('fillblank')">‚úèÔ∏è Fill the Blanks</button>
            </div>

        <div class="question-area" id="afrikaansQuestionArea">
            <div class="question" id="afrikaansQuestion"></div>
            <div id="afrikaansContent"></div>
        </div>
        <div class="feedback" id="afrikaansFeedback"></div>
        <button class="next-btn" id="afrikaansNextBtn" onclick="nextAfrikaansQuestion()">Next Question ‚û°Ô∏è</button>
    </div>
</div>

    <script>
        // Game state
        let gameState = {
            totalStars: 0,
            mathStars: 0,
            afrikaansStars: 0,
            currentMathType: 'addition',
            currentAfrikaansType: 'matching',
            currentMathQuestion: 0,
            currentAfrikaansQuestion: 0,
            selectedWord: null,
            matchedPairs: 0
        };

        // Mathematics questions data
        const mathQuestions = {
            addition: [
                { question: "What is 5 + 3?", options: ["6", "7", "8", "9"], correct: 2 },
                { question: "What is 12 + 7?", options: ["18", "19", "20", "21"], correct: 1 },
                { question: "What is 25 + 15?", options: ["35", "40", "45", "50"], correct: 1 },
                { question: "What is 8 + 6?", options: ["12", "13", "14", "15"], correct: 2 },
                { question: "What is 30 + 25?", options: ["50", "55", "60", "65"], correct: 1 }
            ],
            subtraction: [
                { question: "What is 15 - 8?", options: ["6", "7", "8", "9"], correct: 1 },
                { question: "What is 20 - 12?", options: ["6", "7", "8", "9"], correct: 2 },
                { question: "What is 35 - 18?", options: ["15", "16", "17", "18"], correct: 2 },
                { question: "What is 50 - 23?", options: ["25", "26", "27", "28"], correct: 2 },
                { question: "What is 42 - 17?", options: ["23", "24", "25", "26"], correct: 2 }
            ],
            multiplication: [
                { question: "What is 3 √ó 4?", options: ["10", "11", "12", "13"], correct: 2 },
                { question: "What is 5 √ó 6?", options: ["28", "29", "30", "31"], correct: 2 },
                { question: "What is 7 √ó 3?", options: ["19", "20", "21", "22"], correct: 2 },
                { question: "What is 4 √ó 8?", options: ["30", "31", "32", "33"], correct: 2 },
                { question: "What is 6 √ó 7?", options: ["40", "41", "42", "43"], correct: 2 }
            ],
            word: [
                { question: "Sarah has 8 apples. She gives 3 to her friend. How many apples does she have left?", options: ["4", "5", "6", "7"], correct: 1 },
                { question: "There are 15 birds on a tree. 6 more birds join them. How many birds are there now?", options: ["19", "20", "21", "22"], correct: 2 },
                { question: "Tom buys 4 packs of stickers. Each pack has 5 stickers. How many stickers does he have?", options: ["18", "19", "20", "21"], correct: 2 },
                { question: "A box has 24 chocolates. Children eat 9 chocolates. How many are left?", options: ["13", "14", "15", "16"], correct: 2 },
                { question: "Maria saves R5 every week. How much will she save in 6 weeks?", options: ["R25", "R30", "R35", "R40"], correct: 1 }
            ]
        };

        // Afrikaans questions data
        const afrikaansQuestions = {
            matching: [
                {
                    pairs: [
                        { word: "Kat", picture: "üê±", english: "Cat" },
                        { word: "Hond", picture: "üê∂", english: "Dog" },
                        { word: "Huis", picture: "üè†", english: "House" },
                        { word: "Boom", picture: "üå≥", english: "Tree" }
                    ]
                },
                {
                    pairs: [
                        { word: "Appel", picture: "üçé", english: "Apple" },
                        { word: "Boek", picture: "üìö", english: "Book" },
                        { word: "Son", picture: "‚òÄÔ∏è", english: "Sun" },
                        { word: "Water", picture: "üíß", english: "Water" }
                    ]
                }
            ],
            translation: [
                { question: "What does 'Dankie' mean in English?", options: ["Hello", "Thank you", "Goodbye", "Please"], correct: 1 },
                { question: "What does 'Goeie m√¥re' mean?", options: ["Good night", "Good afternoon", "Good morning", "Good evening"], correct: 2 },
                { question: "What does 'Ek is bly' mean?", options: ["I am sad", "I am happy", "I am tired", "I am hungry"], correct: 1 },
                { question: "What does 'Rooi' mean?", options: ["Blue", "Green", "Red", "Yellow"], correct: 2 },
                { question: "What does 'Groot' mean?", options: ["Small", "Big", "Fast", "Slow"], correct: 1 }
            ],
            fillblank: [
                { sentence: "My naam ___ Sarah.", options: ["is", "het", "kan", "wil"], correct: 0, translation: "My name is Sarah." },
                { sentence: "Die kat ___ klein.", options: ["het", "is", "kan", "sal"], correct: 1, translation: "The cat is small." },
                { sentence: "Ons ___ na die winkel.", options: ["gaan", "het", "is", "was"], correct: 0, translation: "We go to the shop." },
                { sentence: "Sy ___ 'n rooi rok aan.", options: ["is", "het", "dra", "loop"], correct: 2, translation: "She wears a red dress." },
                { sentence: "Die hond ___ baie groot.", options: ["loop", "is", "eet", "slaap"], correct: 1, translation: "The dog is very big." }
            ]
        };

        // Initialize the game
        function initGame() {
            loadGameState();
            updateProgressDisplay();
            showHomepage();
        }

        // Load game state from memory
        function loadGameState() {
            // In a real application, this would load from localStorage
            // but since we can't use it, we'll keep the initial state
            updateProgressDisplay();
        }

        // Save game state to memory
        function saveGameState() {
            // In a real application, this would save to localStorage
            updateProgressDisplay();
        }

        // Update progress display
        function updateProgressDisplay() {
            gameState.totalStars = gameState.mathStars + gameState.afrikaansStars;
            document.getElementById('totalStars').textContent = gameState.totalStars;
            
            const progressPercent = Math.min((gameState.totalStars / 20) * 100, 100);
            document.getElementById('progressFill').style.width = progressPercent + '%';
        }

        // Navigation functions
        function showHomepage() {
            document.getElementById('homepage').style.display = 'block';
            document.getElementById('mathSection').style.display = 'none';
            document.getElementById('afrikaansSection').style.display = 'none';
        }

        function showSubject(subject) {
            document.getElementById('homepage').style.display = 'none';
            
            if (subject === 'math') {
                document.getElementById('mathSection').style.display = 'block';
                document.getElementById('afrikaansSection').style.display = 'none';
                loadMathQuestion();
            } else if (subject === 'afrikaans') {
                document.getElementById('afrikaansSection').style.display = 'block';
                document.getElementById('mathSection').style.display = 'none';
                loadAfrikaansQuestion();
            }
        }

        // Mathematics functions
        function setMathType(type) {
            gameState.currentMathType = type;
            gameState.currentMathQuestion = 0;
            
            // Update active button
            document.querySelectorAll('#mathSection .activity-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadMathQuestion();
        }

        function loadMathQuestion() {
            const questions = mathQuestions[gameState.currentMathType];
            const currentQ = questions[gameState.currentMathQuestion % questions.length];
            
            document.getElementById('mathQuestion').textContent = currentQ.question;
            document.getElementById('mathFeedback').textContent = '';
            document.getElementById('mathNextBtn').style.display = 'none';
            
            const optionsContainer = document.getElementById('mathOptions');
            optionsContainer.innerHTML = '';
            
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectMathAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function selectMathAnswer(selectedIndex) {
            const questions = mathQuestions[gameState.currentMathType];
            const currentQ = questions[gameState.currentMathQuestion % questions.length];
            const options = document.querySelectorAll('#mathOptions .option');
            
            // Disable all options
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            if (selectedIndex === currentQ.correct) {
                options[selectedIndex].classList.add('correct');
                document.getElementById('mathFeedback').innerHTML = '<span class="correct-feedback">üåü Excellent! Well done! üåü</span>';
                createConfetti();
                gameState.mathStars++;
                saveGameState();
                setTimeout(() => {
                    document.getElementById('mathNextBtn').style.display = 'block';
                }, 1000);
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[currentQ.correct].classList.add('correct');
                document.getElementById('mathFeedback').innerHTML = '<span class="incorrect-feedback">üí° Try again! The correct answer is highlighted in green.</span>';
                setTimeout(() => {
                    document.getElementById('mathNextBtn').style.display = 'block';
                }, 2000);
            }
        }

        function nextMathQuestion() {
            gameState.currentMathQuestion++;
            loadMathQuestion();
        }

        // Afrikaans functions
        function setAfrikaansType(type) {
            gameState.currentAfrikaansType = type;
            gameState.currentAfrikaansQuestion = 0;
            
            // Update active button
            document.querySelectorAll('#afrikaansSection .activity-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadAfrikaansQuestion();
        }

        function loadAfrikaansQuestion() {
            const type = gameState.currentAfrikaansType;
document.getElementById('afrikaansFeedback').textContent = '';
document.getElementById('afrikaansNextBtn').style.display = 'none';
            
            if (type === 'matching') {
                loadMatchingExercise();
            } else if (type === 'translation') {
                loadTranslationQuestion();
            } else if (type === 'fillblank') {
                loadFillBlankQuestion();
            }
        }

        function loadMatchingExercise() {
            const matchingData = afrikaansQuestions.matching[gameState.currentAfrikaansQuestion % afrikaansQuestions.matching.length];
            gameState.selectedWord = null;
            gameState.matchedPairs = 0;
            
            document.getElementById('afrikaansQuestion').textContent = 'Match the Afrikaans words with their pictures! üîÑ';
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = `
                <div class="matching-container">
                    <div class="word-column" id="wordColumn"></div>
                    <div class="picture-column" id="pictureColumn"></div>
                </div>
            `;
            
            const wordColumn = document.getElementById('wordColumn');
            const pictureColumn = document.getElementById('pictureColumn');
            
            // Shuffle arrays for variety
            const shuffledWords = [...matchingData.pairs].sort(() => Math.random() - 0.5);
            const shuffledPictures = [...matchingData.pairs].sort(() => Math.random() - 0.5);
            
            shuffledWords.forEach((pair, index) => {
                const wordDiv = document.createElement('div');
                wordDiv.className = 'word-item';
                wordDiv.textContent = pair.word;
                wordDiv.dataset.word = pair.word;
                wordDiv.onclick = () => selectWord(wordDiv);
                wordColumn.appendChild(wordDiv);
            });
            
            shuffledPictures.forEach((pair, index) => {
                const pictureDiv = document.createElement('div');
                pictureDiv.className = 'picture-item';
                pictureDiv.innerHTML = `${pair.picture}<br><small>${pair.english}</small>`;
                pictureDiv.dataset.word = pair.word;
                pictureDiv.onclick = () => selectPicture(pictureDiv);
                pictureColumn.appendChild(pictureDiv);
            });
        }

        function selectWord(wordElement) {
            // Remove previous selections
            document.querySelectorAll('.word-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            
            wordElement.classList.add('selected');
            gameState.selectedWord = wordElement.dataset.word;
        }

function selectPicture(pictureElement) {
    if (!gameState.selectedWord) {
        document.getElementById('afrikaansFeedback').innerHTML = '<span class="incorrect-feedback">Please select a word first! üí°</span>';
        return;
    }
    
    if (gameState.selectedWord === pictureElement.dataset.word) {
        // Correct match!
        const wordElement = document.querySelector(`.word-item[data-word="${gameState.selectedWord}"]`);
        wordElement.classList.add('matched');
        pictureElement.classList.add('matched');
        
        gameState.matchedPairs++;
        gameState.selectedWord = null;
        
        if (gameState.matchedPairs === afrikaansQuestions.matching[gameState.currentAfrikaansQuestion % afrikaansQuestions.matching.length].pairs.length) {
            document.getElementById('afrikaansFeedback').innerHTML = '<span class="correct-feedback">üåü Perfect! All matched correctly! üåü</span>';
            createConfetti();
            gameState.afrikaansStars++;
            saveGameState();
            setTimeout(() => {
                document.getElementById('afrikaansNextBtn').style.display = 'block';
            }, 1000);
        } else {
            document.getElementById('afrikaansFeedback').innerHTML = '<span class="correct-feedback">‚ú® Great match! Keep going! ‚ú®</span>';
        }
    } else {
        document.getElementById('afrikaansFeedback').innerHTML = '<span class="incorrect-feedback">Try again! That\'s not the right match. üí°</span>';
        // Remove word selection
        document.querySelectorAll('.word-item.selected').forEach(item => {
            item.classList.remove('selected');
        });
        gameState.selectedWord = null;
    }
}

        function loadTranslationQuestion() {
            const questions = afrikaansQuestions.translation;
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            
            document.getElementById('afrikaansQuestion').textContent = currentQ.question;
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = '<div class="options" id="afrikaansOptions"></div>';
            
            const optionsContainer = document.getElementById('afrikaansOptions');
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAfrikaansAnswer(index, 'translation');
                optionsContainer.appendChild(optionDiv);
            });
        }

        function loadFillBlankQuestion() {
            const questions = afrikaansQuestions.fillblank;
            const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
            
            document.getElementById('afrikaansQuestion').innerHTML = `
                Fill in the blank:<br>
                <strong>${currentQ.sentence}</strong><br>
                <small style="color: #9370DB; margin-top: 10px;">(${currentQ.translation})</small>
            `;
            
            const content = document.getElementById('afrikaansContent');
            content.innerHTML = '<div class="options" id="afrikaansOptions"></div>';
            
            const optionsContainer = document.getElementById('afrikaansOptions');
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAfrikaansAnswer(index, 'fillblank');
                optionsContainer.appendChild(optionDiv);
            });
        }

function selectAfrikaansAnswer(selectedIndex, type) {
    const questions = afrikaansQuestions[type];
    const currentQ = questions[gameState.currentAfrikaansQuestion % questions.length];
    const options = document.querySelectorAll('#afrikaansOptions .option');
    
    // Disable all options
    options.forEach(option => {
        option.style.pointerEvents = 'none';
    });
    
    if (selectedIndex === currentQ.correct) {
        options[selectedIndex].classList.add('correct');
        document.getElementById('afrikaansFeedback').innerHTML = '<span class="correct-feedback">üåü Baie goed! (Very good!) üåü</span>';
        createConfetti();
        gameState.afrikaansStars++;
        saveGameState();
        setTimeout(() => {
            document.getElementById('afrikaansNextBtn').style.display = 'block';
        }, 1000);
    } else {
        options[selectedIndex].classList.add('incorrect');
        options[currentQ.correct].classList.add('correct');
        document.getElementById('afrikaansFeedback').innerHTML = '<span class="incorrect-feedback">üí° Probeer weer! (Try again!) The correct answer is highlighted.</span>';
        setTimeout(() => {
            document.getElementById('afrikaansNextBtn').style.display = 'block';
        }, 2000);
    }
}

        function nextAfrikaansQuestion() {
            gameState.currentAfrikaansQuestion++;
            loadAfrikaansQuestion();
        }

        // Confetti animation
        function createConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#9370DB', '#32CD32', '#FF6347'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }, i * 100);
            }
        }

        // Sound effects (visual feedback since we can't play actual sounds)
        function playCorrectSound() {
            // Create a visual "sound" effect
            const soundEffect = document.createElement('div');
            soundEffect.style.position = 'fixed';
            soundEffect.style.top = '50%';
            soundEffect.style.left = '50%';
            soundEffect.style.transform = 'translate(-50%, -50%)';
            soundEffect.style.fontSize = '4em';
            soundEffect.style.zIndex = '9999';
            soundEffect.style.animation = 'bounce 1s ease';
            soundEffect.innerHTML = 'üéµ‚ú®';
            document.body.appendChild(soundEffect);
            
            setTimeout(() => {
                soundEffect.remove();
            }, 1000);
        }

        function playIncorrectSound() {
            const soundEffect = document.createElement('div');
            soundEffect.style.position = 'fixed';
            soundEffect.style.top = '50%';
            soundEffect.style.left = '50%';
            soundEffect.style.transform = 'translate(-50%, -50%)';
            soundEffect.style.fontSize = '3em';
            soundEffect.style.zIndex = '9999';
            soundEffect.style.animation = 'shake 0.5s ease';
            soundEffect.innerHTML = 'üí≠';
            document.body.appendChild(soundEffect);
            
            setTimeout(() => {
                soundEffect.remove();
            }, 500);
        }

        // Initialize the game when the page loads
        window.onload = initGame;
  </script>
</body>
</html>